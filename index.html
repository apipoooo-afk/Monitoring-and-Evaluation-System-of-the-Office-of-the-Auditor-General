<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>‡∏£‡∏∞‡∏ö‡∏ö‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏°‡πÅ‡∏•‡∏∞‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô‡∏ú‡∏•‡∏à‡∏£‡∏¥‡∏¢‡∏ò‡∏£‡∏£‡∏° ‡∏™‡∏ï‡∏á.</title>

  <style>
    :root{
      --bg:#060818;
      --bg2:#0b1024;
      --card:#11152b;
      --border:#262b46;
      --text:#f5f7ff;
      --muted:#a3acc7;
      --primary:#42a5f5;
      --primary2:#0d47a1;
      --accent:#ffd54f;
      --ok:#66bb6a;
      --danger:#ef5350;
      --radius:18px;
      --shadow:0 14px 34px rgba(0,0,0,.55);
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      font-family:"Segoe UI",Tahoma,sans-serif;
      color:var(--text);
      background:
        radial-gradient(circle at 10% 0%,rgba(66,165,245,.16),transparent 40%),
        radial-gradient(circle at 90% 10%,rgba(255,213,79,.10),transparent 45%),
        radial-gradient(circle at 80% 90%,rgba(239,83,80,.10),transparent 50%),
        var(--bg);
    }
    header{
      padding:22px 22px 16px;
      background:linear-gradient(120deg,var(--primary2),var(--primary),#7b1e3c);
      box-shadow:0 6px 18px rgba(0,0,0,.45);
    }
    .topbar{
      display:flex; gap:14px; align-items:flex-start; justify-content:space-between;
      flex-wrap:wrap;
    }
    .brand h1{margin:0; font-size:26px; font-weight:900; letter-spacing:.2px}
    .brand p{margin:6px 0 0; font-size:13px; opacity:.95}
    .status{
      display:flex; gap:10px; flex-wrap:wrap; justify-content:flex-end;
    }
    .pill{
      background:rgba(17,21,43,.75);
      border:1px solid rgba(255,255,255,.12);
      padding:10px 12px;
      border-radius:999px;
      font-size:12px;
      backdrop-filter: blur(6px);
      display:flex; gap:8px; align-items:center;
    }
    .pill strong{font-size:12px}
    .container{max-width:1200px; margin:0 auto; padding:22px}
    .grid{
      display:grid;
      grid-template-columns: 1.2fr .8fr;
      gap:18px;
      margin-top:18px;
    }
    .card{
      background:linear-gradient(180deg,rgba(17,21,43,.96),rgba(17,21,43,.90));
      border:1px solid var(--border);
      border-radius:var(--radius);
      box-shadow:var(--shadow);
      padding:18px;
    }
    .card h2{margin:0 0 10px; font-size:18px; color:var(--accent)}
    .muted{color:var(--muted); font-size:13px; line-height:1.7}
    .menu{
      display:grid;
      grid-template-columns:repeat(auto-fit,minmax(220px,1fr));
      gap:14px;
      margin-top:12px;
    }
    .menu a{
      text-decoration:none;
      color:var(--text);
      background:rgba(66,165,245,.10);
      border:1px solid rgba(66,165,245,.25);
      padding:14px 14px;
      border-radius:16px;
      transition:.2s ease;
      display:flex;
      flex-direction:column;
      gap:6px;
      min-height:86px;
    }
    .menu a:hover{transform:translateY(-3px); border-color:rgba(255,213,79,.45); background:rgba(255,213,79,.10)}
    .menu .title{font-weight:900}
    .menu .desc{font-size:12px; color:var(--muted); line-height:1.5}
    .actions{
      margin-top:12px;
      display:flex; gap:10px; flex-wrap:wrap;
    }
    button,.btn{
      cursor:pointer;
      border:none;
      border-radius:999px;
      padding:10px 14px;
      font-weight:900;
      font-size:12px;
      color:#08121e;
      background:linear-gradient(135deg,var(--accent),#ffec8b);
    }
    .btn.secondary{
      color:#031634;
      background:linear-gradient(135deg,#90caf9,var(--primary));
    }
    .btn.danger{
      color:#fff;
      background:linear-gradient(135deg,#b71c1c,var(--danger));
    }
    .kv{
      display:grid;
      grid-template-columns: 120px 1fr;
      gap:8px 10px;
      font-size:13px;
      margin-top:10px;
    }
    .kv div{padding:8px 10px; background:rgba(255,255,255,.04); border:1px solid rgba(255,255,255,.08); border-radius:12px}
    .kv .k{color:var(--muted)}
    .footer{
      margin-top:18px;
      padding:14px;
      text-align:center;
      color:var(--muted);
      font-size:12px;
      border-top:1px solid rgba(255,255,255,.10);
    }
    @media (max-width:980px){ .grid{grid-template-columns:1fr} .status{justify-content:flex-start} }
  </style>
</head>

<body>
<header>
  <div class="topbar">
    <div class="brand">
      <h1>‡∏£‡∏∞‡∏ö‡∏ö‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏°‡πÅ‡∏•‡∏∞‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô‡∏ú‡∏•‡∏à‡∏£‡∏¥‡∏¢‡∏ò‡∏£‡∏£‡∏° ‡∏™‡∏ï‡∏á.</h1>
      <p>Ethics Monitoring & Evaluation System | Office of the Auditor General (OAG)</p>
    </div>

    <div class="status">
      <div class="pill">üïí <span id="clock">--:--:--</span></div>
      <div class="pill">üìÖ <span id="dateText">--</span></div>
      <div class="pill">üë§ <strong id="userTag">‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö</strong></div>
      <div class="pill">üìç <span id="addrTag">‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤</span></div>
    </div>
  </div>
</header>

<div class="container">
  <div class="grid">
    <section class="card">
      <h2>‡∏†‡∏≤‡∏û‡∏£‡∏ß‡∏°‡∏£‡∏∞‡∏ö‡∏ö (Dashboard Snapshot)</h2>
      <div class="muted">
        ‡∏£‡∏∞‡∏ö‡∏ö‡∏ô‡∏µ‡πâ‡∏≠‡∏≠‡∏Å‡πÅ‡∏ö‡∏ö‡πÉ‡∏´‡πâ ‚Äú‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏¢‡πâ‡∏≠‡∏ô‡∏Å‡∏•‡∏±‡∏ö‡πÑ‡∏î‡πâ (Audit trail)‚Äù ‡πÅ‡∏•‡∏∞‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡πÅ‡∏ö‡∏ö‡πÄ‡∏õ‡πá‡∏ô‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô:
        ‡∏£‡∏±‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• ‚Üí ‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏à‡∏£‡∏¥‡∏¢‡∏ò‡∏£‡∏£‡∏° ‚Üí ‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏°‡∏ú‡∏• ‚Üí Cashboard ‚Üí ‡πÉ‡∏´‡πâ‡∏Ñ‡∏≥‡∏õ‡∏£‡∏∂‡∏Å‡∏©‡∏≤
        <br/>*‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏: ‡∏ï‡∏≠‡∏ô‡∏ô‡∏µ‡πâ‡πÄ‡∏õ‡πá‡∏ô‡πÄ‡∏ß‡∏≠‡∏£‡πå‡∏ä‡∏±‡∏ô localStorage (‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏Å‡∏±‡∏ö Demo/Prototype) ‚Äî ‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏£‡∏≠ DBA ‡∏Å‡πá‡πÄ‡∏î‡∏¥‡∏ô‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏¢ üòâ
      </div>

      <div class="kv" aria-label="summary">
        <div class="k">‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞ Login</div><div id="loginState">Guest</div>
        <div class="k">‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏£‡∏±‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•</div><div><span id="intakeCount">0</span> ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£</div>
        <div class="k">‡∏ú‡∏•‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î</div><div id="lastScore">‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ</div>
        <div class="k">‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏°‡∏ú‡∏•</div><div><span id="followCount">0</span> ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£</div>
      </div>

      <div class="actions">
        <a class="btn" href="register.html">üìù ‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô</a>
        <a class="btn secondary" href="login.html">üîê Login</a>
        <button class="btn danger" id="logoutBtn" type="button" style="display:none;">‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏£‡∏∞‡∏ö‡∏ö</button>
        <button class="btn secondary" id="setAddrBtn" type="button">‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ ‚Äú‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà/‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏á‡∏≤‡∏ô‚Äù</button>
      </div>
    </section>

    <aside class="card">
      <h2>‡πÄ‡∏°‡∏ô‡∏π‡∏´‡∏•‡∏±‡∏Å</h2>
      <div class="menu">
        <a href="index.html">
          <div class="title">üè† ‡∏´‡∏ô‡πâ‡∏≤‡∏´‡∏•‡∏±‡∏Å</div>
          <div class="desc">‡∏†‡∏≤‡∏û‡∏£‡∏ß‡∏° ‡πÄ‡∏°‡∏ô‡∏π ‡πÅ‡∏•‡∏∞‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏£‡∏∞‡∏ö‡∏ö</div>
        </a>
        <a href="register.html">
          <div class="title">üìù ‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô</div>
          <div class="desc">‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ö‡∏±‡∏ç‡∏ä‡∏µ‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô (‡πÄ‡∏Å‡πá‡∏ö‡πÉ‡∏ô‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á)</div>
        </a>
        <a href="login.html">
          <div class="title">üîê Login</div>
          <div class="desc">‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡πÄ‡∏°‡∏ô‡∏π‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</div>
        </a>
        <a href="intake.html">
          <div class="title">üì• ‡∏£‡∏±‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•</div>
          <div class="desc">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÄ‡∏´‡∏ï‡∏∏‡∏Å‡∏≤‡∏£‡∏ì‡πå/‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏î‡πâ‡∏≤‡∏ô‡∏à‡∏£‡∏¥‡∏¢‡∏ò‡∏£‡∏£‡∏°</div>
        </a>
        <a href="assessment.html">
          <div class="title">üß≠ ‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô‡∏ú‡∏•‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏à‡∏£‡∏¥‡∏¢‡∏ò‡∏£‡∏£‡∏°</div>
          <div class="desc">‡πÉ‡∏´‡πâ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô/‡∏à‡∏±‡∏î‡∏£‡∏∞‡∏î‡∏±‡∏ö + ‡∏™‡∏£‡∏∏‡∏õ‡∏ú‡∏•</div>
        </a>
        <a href="followup.html">
          <div class="title">üßæ ‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏°‡∏ú‡∏•</div>
          <div class="desc">‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏Å‡∏≤‡∏£‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç/‡∏°‡∏≤‡∏ï‡∏£‡∏Å‡∏≤‡∏£/‡∏Å‡∏≥‡∏Å‡∏±‡∏ö‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏°</div>
        </a>
        <a href="cashboard.html">
          <div class="title">üìä Cashboard</div>
          <div class="desc">‡∏™‡∏£‡∏∏‡∏õ‡∏ï‡∏±‡∏ß‡∏ä‡∏µ‡πâ‡∏ß‡∏±‡∏î‡πÅ‡∏ö‡∏ö‡∏Å‡∏≤‡∏£‡πå‡∏î/‡πÄ‡∏£‡∏µ‡∏¢‡∏•‡πÑ‡∏ó‡∏°‡πå (local)</div>
        </a>
        <a href="consult.html">
          <div class="title">üí¨ ‡πÉ‡∏´‡πâ‡∏Ñ‡∏≥‡∏õ‡∏£‡∏∂‡∏Å‡∏©‡∏≤</div>
          <div class="desc">‡∏ä‡πà‡∏≠‡∏á‡∏ó‡∏≤‡∏á‡∏Ñ‡∏≥‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥/‡πÅ‡∏ô‡∏ß‡∏ó‡∏≤‡∏á‡∏õ‡∏è‡∏¥‡∏ö‡∏±‡∏ï‡∏¥</div>
        </a>
      </div>
    </aside>
  </div>

  <div class="footer">
    ¬© <span id="yearNow"></span> ‡∏£‡∏∞‡∏ö‡∏ö‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏°‡πÅ‡∏•‡∏∞‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô‡∏ú‡∏•‡∏à‡∏£‡∏¥‡∏¢‡∏ò‡∏£‡∏£‡∏° ‡∏™‡∏ï‡∏á. | Prototype (localStorage)
  </div>
</div>

<script>
  // ===== Utilities (localStorage keys) =====
  const K = {
    users: "ethics_users_v1",
    session: "ethics_session_v1",
    intake: "ethics_intake_v1",
    assess: "ethics_assess_v1",
    follow: "ethics_follow_v1",
    addr: "ethics_address_v1"
  };

  const $ = (id)=>document.getElementById(id);

  function readJSON(key, fallback){
    try{ return JSON.parse(localStorage.getItem(key)) ?? fallback; }
    catch{ return fallback; }
  }
  function writeJSON(key, value){
    localStorage.setItem(key, JSON.stringify(value));
  }
  function getSession(){
    return readJSON(K.session, null);
  }

  // ===== Clock / Date =====
  function tick(){
    const now = new Date();
    const hh = String(now.getHours()).padStart(2,'0');
    const mm = String(now.getMinutes()).padStart(2,'0');
    const ss = String(now.getSeconds()).padStart(2,'0');
    $("clock").textContent = `${hh}:${mm}:${ss}`;

    const days = ["‡∏≠‡∏≤‡∏ó‡∏¥‡∏ï‡∏¢‡πå","‡∏à‡∏±‡∏ô‡∏ó‡∏£‡πå","‡∏≠‡∏±‡∏á‡∏Ñ‡∏≤‡∏£","‡∏û‡∏∏‡∏ò","‡∏û‡∏§‡∏´‡∏±‡∏™‡∏ö‡∏î‡∏µ","‡∏®‡∏∏‡∏Å‡∏£‡πå","‡πÄ‡∏™‡∏≤‡∏£‡πå"];
    const months = ["‡∏°.‡∏Ñ.","‡∏Å.‡∏û.","‡∏°‡∏µ.‡∏Ñ.","‡πÄ‡∏°.‡∏¢.","‡∏û.‡∏Ñ.","‡∏°‡∏¥.‡∏¢.","‡∏Å.‡∏Ñ.","‡∏™.‡∏Ñ.","‡∏Å.‡∏¢.","‡∏ï.‡∏Ñ.","‡∏û.‡∏¢.","‡∏ò.‡∏Ñ."];
    const dateText = `‡∏ß‡∏±‡∏ô${days[now.getDay()]} ${now.getDate()} ${months[now.getMonth()]} ${now.getFullYear()+543}`;
    $("dateText").textContent = dateText;
  }
  setInterval(tick, 1000); tick();
  $("yearNow").textContent = new Date().getFullYear()+543;

  // ===== Render Summary =====
  function render(){
    const s = getSession();
    const addr = localStorage.getItem(K.addr) || "";
    $("addrTag").textContent = addr ? addr : "‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤";

    if(s && s.email){
      $("userTag").textContent = s.name ? `${s.name}` : s.email;
      $("loginState").textContent = "Logged-in";
      $("logoutBtn").style.display = "inline-block";
    }else{
      $("userTag").textContent = "‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö";
      $("loginState").textContent = "Guest";
      $("logoutBtn").style.display = "none";
    }

    const intake = readJSON(K.intake, []);
    const assess = readJSON(K.assess, []);
    const follow = readJSON(K.follow, []);

    $("intakeCount").textContent = intake.length;
    $("followCount").textContent = follow.length;

    if(assess.length){
      const last = assess[assess.length-1];
      $("lastScore").textContent = `${last.level} (‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô ${last.score}/100) ‚Äî ${new Date(last.ts).toLocaleString()}`;
    }else{
      $("lastScore").textContent = "‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ";
    }
  }
  render();

  // ===== Actions =====
  $("logoutBtn").addEventListener("click", ()=>{
    localStorage.removeItem(K.session);
    render();
    alert("‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏£‡∏∞‡∏ö‡∏ö‡πÅ‡∏•‡πâ‡∏ß");
  });

  $("setAddrBtn").addEventListener("click", ()=>{
    const current = localStorage.getItem(K.addr) || "";
    const v = prompt("‡∏Å‡∏£‡∏≠‡∏Å‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà/‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏á‡∏≤‡∏ô (‡∏à‡∏∞‡πÅ‡∏™‡∏î‡∏á‡∏ö‡∏ô‡πÄ‡∏°‡∏ô‡∏π):", current);
    if(v !== null){
      localStorage.setItem(K.addr, v.trim());
      render();
    }
  });
</script>

</body>
</html>
